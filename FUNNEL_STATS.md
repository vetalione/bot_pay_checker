# üìä –í–æ—Ä–æ–Ω–∫–∞ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ - VIEW `current_steps`

## –û–±–∑–æ—Ä

VIEW `current_steps` –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –≤–æ—Ä–æ–Ω–∫—É –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –∫–∞–∫–æ–º —ç—Ç–∞–ø–µ –∑–∞—Å—Ç—Ä—è–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ —Å–∫–æ–ª—å–∫–æ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—à–ª–∏ –¥–æ –æ–ø–ª–∞—Ç—ã.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `current_steps` (VIEW)

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | integer | –í—Å–µ–≥–¥–∞ —Ä–∞–≤–µ–Ω 1 (–¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å ORM) |
| `total_users_started` | integer | –í—Å–µ–≥–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∑–∞–ø—É—Å—Ç–∏–ª–∏ –±–æ—Ç–∞ |
| `stuck_at_start` | integer | –ù–µ –ø—Ä–æ—à–ª–∏ –¥–∞–ª—å—à–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è |
| `stuck_at_video1` | integer | –ù–µ –ø—Ä–æ—à–ª–∏ –¥–∞–ª—å—à–µ –ø–µ—Ä–≤–æ–≥–æ –≤–∏–¥–µ–æ |
| `stuck_at_video2` | integer | –ù–µ –ø—Ä–æ—à–ª–∏ –¥–∞–ª—å—à–µ –≤—Ç–æ—Ä–æ–≥–æ –≤–∏–¥–µ–æ |
| `stuck_at_video3` | integer | –ù–µ –ø—Ä–æ—à–ª–∏ –¥–∞–ª—å—à–µ —Ç—Ä–µ—Ç—å–µ–≥–æ –≤–∏–¥–µ–æ |
| `stuck_at_payment_choice` | integer | –ù–µ –ø—Ä–æ—à–ª–∏ –¥–∞–ª—å—à–µ –≤—ã–±–æ—Ä–∞ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã |
| `chose_payment_no_receipt` | integer | –í—ã–±—Ä–∞–ª–∏ –æ–ø–ª–∞—Ç—É, –Ω–æ –Ω–µ –ø—Ä–∏—Å–ª–∞–ª–∏ –∫–≤–∏—Ç–∞–Ω—Ü–∏—é |
| `receipt_rejected` | integer | –ü—Ä–∏—Å–ª–∞–ª–∏ –∫–≤–∏—Ç–∞–Ω—Ü–∏—é, –Ω–æ –æ–Ω–∞ –Ω–µ –ø–æ–¥–æ—à–ª–∞ |

## –ö–∞–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

### 1. –í Telegram –±–æ—Ç–µ (–¥–ª—è –∞–¥–º–∏–Ω–∞)

–û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```
/stats
```

–í—ã –ø–æ–ª—É—á–∏—Ç–µ –ø–æ–ª–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤–∫–ª—é—á–∞—è –≤–æ—Ä–æ–Ω–∫—É –∫–æ–Ω–≤–µ—Ä—Å–∏–∏:

```
üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ü–õ–ê–¢–ï–ñ–ï–ô
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üë• –í—Å–µ–≥–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: 150
‚úÖ –£—Å–ø–µ—à–Ω—ã—Ö –æ–ø–ª–∞—Ç: 45 (30.00%)
üíµ –û–ø–ª–∞—Ç –≤ —Ä—É–±–ª—è—Ö: 30
üí¥ –û–ø–ª–∞—Ç –≤ –≥—Ä–∏–≤–Ω–∞—Ö: 15
üì∑ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ "–Ω–µ –∫–≤–∏—Ç–∞–Ω—Ü–∏–π": 12
‚ùå –ö–≤–∏—Ç–∞–Ω—Ü–∏–π –Ω–µ –ø—Ä–æ—à–µ–¥—à–∏—Ö –ø—Ä–æ–≤–µ—Ä–∫—É: 8

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üìà –í–û–†–û–ù–ö–ê –ö–û–ù–í–ï–†–°–ò–ò
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üë• –ù–∞—á–∞–ª–∏: 150
üö´ –ó–∞—Å—Ç—Ä—è–ª–∏ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ: 5
üìπ –ó–∞—Å—Ç—Ä—è–ª–∏ –Ω–∞ –≤–∏–¥–µ–æ 1: 15
üìπ –ó–∞—Å—Ç—Ä—è–ª–∏ –Ω–∞ –≤–∏–¥–µ–æ 2: 10
üìπ –ó–∞—Å—Ç—Ä—è–ª–∏ –Ω–∞ –≤–∏–¥–µ–æ 3: 8
üí≥ –ó–∞—Å—Ç—Ä—è–ª–∏ –Ω–∞ –≤—ã–±–æ—Ä–µ –æ–ø–ª–∞—Ç—ã: 12
‚è≥ –í—ã–±—Ä–∞–ª–∏ –æ–ø–ª–∞—Ç—É, –Ω–µ—Ç –∫–≤–∏—Ç–∞–Ω—Ü–∏–∏: 20
‚ùå –ö–≤–∏—Ç–∞–Ω—Ü–∏—è –Ω–µ –ø–æ–¥–æ—à–ª–∞: 8
```

### 2. –í Railway Dashboard

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –Ω–∞ Railway
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ PostgreSQL ‚Üí Data
3. –ù–∞–π–¥–∏—Ç–µ VIEW `current_steps`
4. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### 3. –í –∫–æ–Ω—Å–æ–ª–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞

–ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞ –≤ –ª–æ–≥–∞—Ö Railway –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–≤–æ–¥–∏—Ç—å—Å—è –≤–æ—Ä–æ–Ω–∫–∞:

```
üìä –í–û–†–û–ù–ö–ê –ö–û–ù–í–ï–†–°–ò–ò:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üë• –í—Å–µ–≥–æ –Ω–∞—á–∞–ª–∏: 150
üö´ –ó–∞—Å—Ç—Ä—è–ª–∏ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ: 5
üìπ –ó–∞—Å—Ç—Ä—è–ª–∏ –Ω–∞ –≤–∏–¥–µ–æ 1: 15
üìπ –ó–∞—Å—Ç—Ä—è–ª–∏ –Ω–∞ –≤–∏–¥–µ–æ 2: 10
üìπ –ó–∞—Å—Ç—Ä—è–ª–∏ –Ω–∞ –≤–∏–¥–µ–æ 3: 8
üí≥ –ó–∞—Å—Ç—Ä—è–ª–∏ –Ω–∞ –≤—ã–±–æ—Ä–µ –æ–ø–ª–∞—Ç—ã: 12
‚è≥ –í—ã–±—Ä–∞–ª–∏ –æ–ø–ª–∞—Ç—É, –Ω–æ –Ω–µ –ø—Ä–∏—Å–ª–∞–ª–∏ –∫–≤–∏—Ç–∞–Ω—Ü–∏—é: 20
‚ùå –ü—Ä–∏—Å–ª–∞–ª–∏ –∫–≤–∏—Ç–∞–Ω—Ü–∏—é, –Ω–æ –Ω–µ –ø–æ–¥–æ—à–ª–∞: 8

‚úÖ –û–ø–ª–∞—Ç–∏–ª–∏: 45 (30.00%)
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
```

### 4. SQL –∑–∞–ø—Ä–æ—Å (PostgreSQL –∫–æ–Ω—Å–æ–ª—å)

```sql
SELECT * FROM current_steps;
```

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç VIEW

VIEW –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∞–±–ª–∏—Ü `users` –∏ `user_actions`.

**SQL –∑–∞–ø—Ä–æ—Å VIEW:**
```sql
SELECT 
  1 as id,
  COUNT(DISTINCT u.userId) as total_users_started,
  COUNT(DISTINCT CASE WHEN u.currentStep = 'start' AND u.hasPaid = false THEN u.userId END) as stuck_at_start,
  COUNT(DISTINCT CASE WHEN u.currentStep = 'video1' AND u.hasPaid = false THEN u.userId END) as stuck_at_video1,
  COUNT(DISTINCT CASE WHEN u.currentStep = 'video2' AND u.hasPaid = false THEN u.userId END) as stuck_at_video2,
  COUNT(DISTINCT CASE WHEN u.currentStep = 'video3' AND u.hasPaid = false THEN u.userId END) as stuck_at_video3,
  COUNT(DISTINCT CASE WHEN u.currentStep = 'payment_choice' AND u.hasPaid = false THEN u.userId END) as stuck_at_payment_choice,
  COUNT(DISTINCT CASE WHEN u.currentStep = 'waiting_receipt' AND u.hasPaid = false THEN u.userId END) as chose_payment_no_receipt,
  COUNT(CASE WHEN ua.action = 'receipt_validation_failed' THEN 1 END) as receipt_rejected
FROM users u
LEFT JOIN user_actions ua ON u.userId = ua.userId
```

## –ê–Ω–∞–ª–∏–∑ –≤–æ—Ä–æ–Ω–∫–∏

### –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –º–µ—Å—Ç–∞:

1. **–í—ã—Å–æ–∫–∏–π –æ—Ç—Ç–æ–∫ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ** (`stuck_at_start`) - –ø—Ä–æ–±–ª–µ–º–∞ —Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
2. **–í—ã—Å–æ–∫–∏–π –æ—Ç—Ç–æ–∫ –Ω–∞ –≤–∏–¥–µ–æ 1** (`stuck_at_video1`) - –ø–µ—Ä–≤–æ–µ –≤–∏–¥–µ–æ –Ω–µ –∑–∞—Ü–µ–ø–∏–ª–æ
3. **–í—ã—Å–æ–∫–∏–π –æ—Ç—Ç–æ–∫ –Ω–∞ –≤–∏–¥–µ–æ 2/3** - –ø–æ—Ç–µ—Ä—è –∏–Ω—Ç–µ—Ä–µ—Å–∞ –∫ –∫–æ–Ω—Ç–µ–Ω—Ç—É
4. **–ó–∞—Å—Ç—Ä—è–ª–∏ –Ω–∞ –≤—ã–±–æ—Ä–µ –æ–ø–ª–∞—Ç—ã** (`stuck_at_payment_choice`) - —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∞—è —Ü–µ–Ω–∞ –∏–ª–∏ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ –∫–∞–∫ –æ–ø–ª–∞—Ç–∏—Ç—å
5. **–í—ã–±—Ä–∞–ª–∏ –æ–ø–ª–∞—Ç—É, –Ω–µ—Ç –∫–≤–∏—Ç–∞–Ω—Ü–∏–∏** (`chose_payment_no_receipt`) - –ø—Ä–æ–±–ª–µ–º—ã —Å –æ–ø–ª–∞—Ç–æ–π (—Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ —á–µ—Ä–µ–∑ 5 –º–∏–Ω)
6. **–ö–≤–∏—Ç–∞–Ω—Ü–∏—è –Ω–µ –ø–æ–¥–æ—à–ª–∞** (`receipt_rejected`) - –ø—Ä–æ–±–ª–µ–º—ã —Å Gemini AI –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø—Ä–∏—Å—ã–ª–∞—é—Ç –Ω–µ —Ç–µ –∫–≤–∏—Ç–∞–Ω—Ü–∏–∏

### –†–∞—Å—á–µ—Ç –∫–æ–Ω–≤–µ—Ä—Å–∏–∏:

```
–ö–æ–Ω–≤–µ—Ä—Å–∏—è = (–£—Å–ø–µ—à–Ω—ã—Ö –æ–ø–ª–∞—Ç / –í—Å–µ–≥–æ –Ω–∞—á–∞–ª–∏) √ó 100%
```

–ü—Ä–∏–º–µ—Ä:
- –í—Å–µ–≥–æ –Ω–∞—á–∞–ª–∏: 150
- –£—Å–ø–µ—à–Ω—ã—Ö –æ–ø–ª–∞—Ç: 45
- –ö–æ–Ω–≤–µ—Ä—Å–∏—è: (45 / 150) √ó 100% = 30%

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–æ—Ä–æ–Ω–∫–∏:

1. **–£–ª—É—á—à–∏—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ** - –µ—Å–ª–∏ –º–Ω–æ–≥–æ –∑–∞—Å—Ç—Ä—è–ª–æ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ
2. **–£–ª—É—á—à–∏—Ç—å –≤–∏–¥–µ–æ** - –µ—Å–ª–∏ –≤—ã—Å–æ–∫–∏–π –æ—Ç—Ç–æ–∫ –Ω–∞ –≤–∏–¥–µ–æ
3. **–£–ø—Ä–æ—Å—Ç–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –æ–ø–ª–∞—Ç—ã** - –µ—Å–ª–∏ –º–Ω–æ–≥–æ –∑–∞—Å—Ç—Ä—è–ª–æ –Ω–∞ –≤—ã–±–æ—Ä–µ
4. **–£–ª—É—á—à–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏** - –µ—Å–ª–∏ –º–Ω–æ–≥–æ –≤—ã–±—Ä–∞–ª–∏ –æ–ø–ª–∞—Ç—É –Ω–æ –Ω–µ –ø—Ä–∏—Å–ª–∞–ª–∏ –∫–≤–∏—Ç–∞–Ω—Ü–∏—é

## SQL –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∑–∞—Å—Ç—Ä—è–≤—à–∏–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —ç—Ç–∞–ø–µ:

```sql
-- –ó–∞—Å—Ç—Ä—è–ª–∏ –Ω–∞ –≤–∏–¥–µ–æ 1
SELECT userId, username, createdAt, lastActivityAt
FROM users
WHERE currentStep = 'video1' AND hasPaid = false
ORDER BY lastActivityAt DESC;
```

### –í—Ä–µ–º—è –º–µ–∂–¥—É —ç—Ç–∞–ø–∞–º–∏:

```sql
-- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç —Å—Ç–∞—Ä—Ç–∞ –¥–æ –ø–µ—Ä–≤–æ–≥–æ –≤–∏–¥–µ–æ
SELECT 
  AVG(EXTRACT(EPOCH FROM (lastActivityAt - createdAt))) / 60 as avg_minutes
FROM users
WHERE currentStep != 'start';
```

### –¢–æ–ø –ø—Ä–∏—á–∏–Ω –æ—Ç–∫–∞–∑–∞:

```sql
-- –ü–æ–¥—Å—á–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø—Ä–æ–±–ª–µ–º
SELECT 
  CASE 
    WHEN currentStep = 'start' THEN '–ù–µ –ø—Ä–æ—à–ª–∏ —Å—Ç–∞—Ä—Ç'
    WHEN currentStep IN ('video1', 'video2', 'video3') THEN '–û—Ç–≤–∞–ª–∏–ª–∏—Å—å –Ω–∞ –≤–∏–¥–µ–æ'
    WHEN currentStep = 'payment_choice' THEN '–ù–µ –≤—ã–±—Ä–∞–ª–∏ –æ–ø–ª–∞—Ç—É'
    WHEN currentStep = 'waiting_receipt' THEN '–ù–µ –ø—Ä–∏—Å–ª–∞–ª–∏ –∫–≤–∏—Ç–∞–Ω—Ü–∏—é'
  END as reason,
  COUNT(*) as count
FROM users
WHERE hasPaid = false
GROUP BY reason
ORDER BY count DESC;
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ VIEW

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±–∞ VIEW –≤–º–µ—Å—Ç–µ –¥–ª—è –ø–æ–ª–Ω–æ–π –∫–∞—Ä—Ç–∏–Ω—ã:

```sql
-- –ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
SELECT 
  ps.total_users_started,
  ps.total_successful_payments,
  cs.stuck_at_video1,
  cs.stuck_at_video2,
  cs.receipt_rejected
FROM payment_stats ps, current_steps cs;
```

## –§–∞–π–ª—ã

- `src/entities/CurrentSteps.ts` - Entity –¥–ª—è VIEW
- `src/statsService.ts` - –ú–µ—Ç–æ–¥—ã `getCurrentSteps()` –∏ `logFunnelStats()`
- `src/database.ts` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Entity
- `src/index.ts` - –ö–æ–º–∞–Ω–¥–∞ `/stats` –∏ –≤—ã–≤–æ–¥ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- VIEW –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –£—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å `hasPaid = false` (–∫—Ä–æ–º–µ `total_users_started`)
- `receipt_rejected` —Å—á–∏—Ç–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ–π—Å—Ç–≤–∏–π, –∞ –Ω–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–æ–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–∏—Å–ª–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∫–≤–∏—Ç–∞–Ω—Ü–∏–π)
